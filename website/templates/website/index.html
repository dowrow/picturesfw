{% extends 'website/base.html' %}

{% load staticfiles %}

{% block stylesheets %}
    <link rel="stylesheet" href="{% static 'website/css/fileinput.min.css' %}">
{% endblock %}

{% block meta %}
    <meta name="description" content="Upload a picture to discover what the last visitor uploaded">
{% endblock %}

{% block body %}
    <!-- DISCLAIMER -->
    <div class="modal fade" id="disclaimerModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">DISCLAIMER</h4>
                </div>
                <div class="modal-body">
                    <p>
                        To access Picture SFW (the "website"), you understand and agree to the following:  <br/><br/>
                    <ol>
                        <li>
                            <strong>Adult content is strictly forbidden.</strong>
                            The content of this website is meant to be suitable for minors.
                            <br/><br/>
                        </li>
                        <li>
                            This website is presented to you AS IS, with no warranty, express or implied.
                            <br/><br/>

                        </li>
                        <li>
                            By clicking "I Agree," you agree not to hold Picture SFW responsible for any damages from
                            your use of the website, and you understand that the content posted is not owned or
                            generated by Picture SFW, but rather by Picture SFW users. Picture SFW shall not be
                            liable to you for:<br/><br/>
                            <ol>
                                <li>
                                    any indirect or consequential losses which may be incurred by you. This shall
                                    include; (i) any loss of profit (whether incurred directly or indirectly); (ii) any
                                    loss of goodwill or business reputation; (iii) any loss of opportunity; or (iv) any
                                    loss of data suffered by you;<br/><br/>
                                </li>
                                <li>
                                    any loss or damage which may be incurred by you as a result of:<br/><br/>
                                    <ol>
                                        <li>
                                            any reliance placed by you on the completeness, accuracy or existence of any
                                            advertising, or as a result of any relationship or transaction between you
                                            and any advertiser or sponsor whose advertising appears on the website;
                                        </li>
                                        <li>
                                            any changes which Picture SFW may make to the website, or for any permanent
                                            or temporary cessation in the provision of it;
                                        </li>
                                        <li>
                                            the deletion of, corruption of, or failure to store, any picture and other
                                            communications data maintained by the website;
                                        </li>
                                        <li>
                                            your failure to keep your personal information secure and confidential.<br/><br/>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>
                            As a condition of using this website, you agree to comply with the <a
                                href="{% url 'rules' %}" target="_blank">"Rules"</a> of Picture SFW, which are also
                            linked on the home page. Please read the Rules carefully, because they are important.  <br/><br/>
                        </li>
                        <li>
                            You understand that the pictures that you upload will be displayed for other users of this
                            website.  <br/><br/>
                        </li>
                        <li>
                            This website uses Google Analytics. By clicking "I agree", you also agree with <a
                                href="{% url 'rules' %}#google" target="_blank">Google's data privacy
                            policies</a>.  <br/><br/>
                        </li>
                        <li>
                            This website uses cookies to improve your experience. <br/><br/>
                        </li>
                    </ol>
                    </p>
                </div>
                <div class="modal-footer">
                    <a class="btn btn-default" href="https://www.google.com/">Cancel</a>
                    <button id="agree" type="button" class="btn btn-primary" data-dismiss="modal">I agree</button>
                </div>
            </div>
        </div>
    </div>
    <!-- /DISCLAIMER -->

    <header class="row text-center">
        <h1 class="col-md-6 col-md-offset-3">Upload a picture to discover what the last visitor uploaded</h1>
    </header>

    <section class="row">
        <form id="form" class="col-md-6 col-md-offset-3" action="{% url 'upload' %}" method="post"
              enctype="multipart/form-data">
            <div id="picture-input" class="row">
                <input id="file" class="file" name="picture" type="file"
                       data-show-upload="false"
                       data-show-caption="true"
                       data-allowed-file-extensions='["jpg", "jpeg", "png", "gif"]'
                       accept="image/*;capture=camera"
                />
            </div>
            {% csrf_token %}
            <div id="title-input" class="row hidden">
                <div class="form-group">
                    <div class="col-sm-10">
                          <input type="text" maxlength="" value="" class="form-control" name="title" placeholder="Add a title"/>
                    </div>
                    <div class="col-sm-2">
                        <input id="send" type="submit" value="Send" class="btn btn-primary form-control">
                    </div>
                </div>

            </div>
            <br/>


        </form>

        <p class="col-xs-12 text-center">
            <strong>Adult content is forbidden.</strong> <br/>
            Please read <a href="/rules">the rules</a>. For adult content go to <a href="https://www.pictureswap.org">pictureswap.org</a>
        </p>

    </section>

{% endblock %}

{% block javascripts %}
    <script src="{% static 'website/js/disclaimer.js' %}"></script>
    <script src="{% static 'website/js/fileinput.min.js' %}"></script>
    <script>
        $('#file').change(function () {
            $('#title-input').removeClass('hidden');
            $('#picture-input').hide();
        });
        $('#send').click(function () {
            $('#send').hide();
            $('#send').setAttribute('enabled', 'false');
        });
    </script>
{% endblock %}
